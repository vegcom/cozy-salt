# Master-side scheduling for highstates
# Minions no longer run their own salt-call schedules
# Master orchestrates all scheduled runs

schedule:
  # Daily highstate for all Linux minions (4 AM, staggered)
  linux_highstate:
    function: state.highstate
    minutes: 0
    hours: 4
    tgt: 'G@os_family:Debian or G@os_family:Arch or G@os_family:RedHat'
    tgt_type: compound
    splay:
      start: 0
      end: 300
    enabled: True

  # Weekly highstate for Windows minions (Sunday 3 AM)
  windows_highstate:
    function: state.highstate
    when: Sunday 3:00am
    tgt: 'G@os_family:Windows'
    tgt_type: compound
    splay:
      start: 0
      end: 600
    enabled: True

  # Windows health check stays minion-side (needs local DISM access)
